#!/bin/bash

# dependencies: playerctl, spotify (ofc)

case $BLOCK_BUTTON in
    1) spotify-notify ;;
    2) playerctl -p spotify play-pause ;;
    3) notify-send "üéß Spotify module" "\- Shows spotify song playing.
- ‚è∏ when paused.
- Left click shows notification with song and cover
- Middle click pauses.
- Scroll changes track.";;
    4) playerctl -p spotify previous ;;
    5) playerctl -p spotify next ;;
esac

# script using "sp"
title=$(playerctl -p spotify metadata title)
artist=$(playerctl -p spotify metadata artist)
spotify_status=$(playerctl -p spotify status)

if [ -n "$title" ] || [ -n "$artist" ]; then
    if [ "$spotify_status" == "Paused" ]; then
            echo "$title - $artist ‚è∏Ô∏è"
    elif [ "$spotify_status" == "Playing" ]; then
            echo "$title - $artist"
    else
            echo ""
    fi
else
    echo ""
fi
